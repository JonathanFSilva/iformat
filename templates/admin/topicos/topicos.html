{% extends 'admin/includes/header.html' %}

{% block content %}

    {% block menu %}
        {% include 'admin/includes/menu.html' %}
    {% endblock %}

    <div id="content">
        <section>
            <div class="section-body">
                <div class="row">
                    <div class="col-lg-offset-1 col-lg-10">
{#                        {% if form.titulo_topico.value %}#}
{#                            <h3>{{ form.titulo_topico.value }}</h3>#}
{#                        {% else %}#}
{#                            <h3>Novo tópico</h3>#}
{#                        {% endif %}#}
                        <div class="card">
                            <div class="card-body">
                                <form class="form" method="post" role="form">
                                    {% csrf_token %}
                                    {% if form.errors %}
{#                                        <div class="toast toast-info" style="overflow: hidden; height: 48px; padding-top: 12px; margin-top: 8px; padding-bottom: 12px; margin-bottom: 0px;">#}
{#                                            <button type="button" class="toast-close-button" role="button">×</button>#}
{#                                            <div class="toast-message">{{ form.errors }}</div>#}
{#                                        </div>#}
                                        <div class="alert alert-callout alert-danger" role="alert">
								            <strong></strong> {{ form.indice.errors }}
							            </div>
                                    {% endif %}

                                    <div class="row">
                                            <div class="col-sm-2" id="indice">
                                                <div class="form-group floating-label">
                                                    {{ form.indice }}
                                                    <label>Indice</label>
                                                </div>
                                            </div>
                                        <div class="col-sm-10">
                                            {% if form.titulo_topico.errors %}<div class="alert alert-danger">{{ form.titulo_topico.errors }}</div>{% endif %}
                                            <div class="form-group floating-label">
                                                {{ form.titulo_topico }}
                                                <label>Titulo: </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div id="dvCentro">
                                                {{ form.conteudo_topico }}
{#                                                <div class="summernote"></div>#}
                                            </div>
                                        </div>
                                    </div>

                                    <br>

                                    <button type="submit" class="btn ink-reaction btn-raised btn-primary"> Salvar </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

{% endblock %}

{#{% block scripts %}#}
{#    <script src="https://cdn.ckeditor.com/4.7.3/full-all/ckeditor.js"></script>#}
{#    <script>#}
{#        CKEDITOR.replace( 'id_conteudo_topico', {#}
{#            toolbar: [#}
{#                { name: 'document', items: [ 'Print' ] },#}
{#                { name: 'clipboard', items: [ 'Undo', 'Redo' ] },#}
{#                { name: 'styles', items: [ 'Format', 'Font', 'FontSize' ] },#}
{#                { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike' ] },#}
{#                { name: 'colors', items: [ 'TextColor', 'BGColor' ] },#}
{#                { name: 'align', items: [ 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock' ] },#}
{#                { name: 'links', items: [ 'Link', 'Unlink' ] },#}
{#                { name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote' ] },#}
{#                { name: 'paragraph', items: [ 'NumberedList', 'BulletedList' ] },#}
{#                { name: 'insert', items: [ 'Image', 'Table' ] },#}
{#                { name: 'tools', items: [ 'Maximize' ] },#}
{#                { name: 'editing', items: [ 'Scayt' ] }#}
{#            ],#}
{##}
{#            customConfig: '',#}
{##}
{#            disallowedContent: 'img{width,height,float}',#}
{#            extraAllowedContent: 'img[width,height,align]',#}
{##}
{#            extraPlugins: 'tableresize,uploadimage,uploadfile',#}
{##}
{#            height: 800,#}
{##}
{#            contentsCss: [ 'https://cdn.ckeditor.com/4.7.3/full-all/contents.css', 'mystyles.css' ],#}
{##}
{#            bodyClass: 'document-editor',#}
{##}
{#            format_tags: 'p;h1;h2;h3;pre',#}
{##}
{#            removeDialogTabs: 'image:advanced;link:advanced',#}
{##}
{#            stylesSet: [#}
{#                /* Inline Styles */#}
{#                { name: 'Marker', element: 'span', attributes: { 'class': 'marker' } },#}
{#                { name: 'Cited Work', element: 'cite' },#}
{#                { name: 'Inline Quotation', element: 'q' },#}
{##}
{#                /* Object Styles */#}
{#                {#}
{#                    name: 'Special Container',#}
{#                    element: 'div',#}
{#                    styles: {#}
{#                        padding: '5px 10px',#}
{#                        background: '#eee',#}
{#                        border: '1px solid #ccc'#}
{#                    }#}
{#                },#}
{#                {#}
{#                    name: 'Compact table',#}
{#                    element: 'table',#}
{#                    attributes: {#}
{#                        cellpadding: '5',#}
{#                        cellspacing: '0',#}
{#                        border: '1',#}
{#                        bordercolor: '#ccc'#}
{#                    },#}
{#                    styles: {#}
{#                        'border-collapse': 'collapse'#}
{#                    }#}
{#                },#}
{#                { name: 'Borderless Table', element: 'table', styles: { 'border-style': 'hidden', 'background-color': '#E6E6FA' } },#}
{#                { name: 'Square Bulleted List', element: 'ul', styles: { 'list-style-type': 'square' } }#}
{#            ]#}
{#        } );#}
{#    </script>#}
{##}
{#    <script>#}
{#        window.onload = function () {#}
{#            var indice = $("#id_indice").val();#}
{##}
{#            if (indice == "0") {#}
{#                $("#indice").hide();#}
{#            }#}
{#        };#}
{#    </script>#}
{##}
{#{% endblock %}#}

{% block extrahead %}

    <link href="/static/summernote/summernote.css" rel="stylesheet">

{% endblock %}

{% block scripts %}

    <script src="/static/summernote/summernote.min.js"></script>

    <script>

        $('#id_conteudo_topico').summernote({
            tabsize: 4,
            height: 400,
            toolbar: [
            // [groupName, [list of button]]
                ['misc', ['fullscreen', 'undo', 'redo']],
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol']],
                ['insert', ['picture', 'table']],
            ]
        });

    </script>


    <script>
        window.onload = function () {
            var indice = $("#id_indice").val();

            if (indice == "0") {
                $("#indice").hide();
            }
        };
    </script>

{% endblock %}